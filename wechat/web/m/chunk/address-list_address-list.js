(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"241":function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o,r,i=n(1),a=n(2),s=n(51),c=n(10),l=n.n(c),p=n(240),u=n.n(p),d=(n(242),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var f=(r=o=function(e){function loading(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,loading);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(loading.__proto__||Object.getPrototypeOf(loading)).call(this,e));return t.state={},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(loading,a["a"].Component),d(loading,[{"key":"render","value":function render(){var e=this.props,t=e.type,n=e.display,o=e.tipText,r=l()("loading",t,n);return i.k.createElement(s.a,{"className":r},i.k.createElement(s.a,{"className":"circle"}),i.k.createElement(s.a,{"className":"text"},o,"..."))}}]),loading}(),o.options={"addGlobalClass":!0},o.propTypes={"type":u.a.oneOf(["center","block","inline"]),"display":u.a.oneOf(["dark","light"]),"tipText":u.a.string},o.defaultProps={"type":"center","display":"dark","tipText":"加载中"},r)},"242":function(e,t,n){},"253":function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o,r,i=n(1),a=n(2),s=n(124),c=n(51),l=n(258),p=n(240),u=n.n(p),d=(n(254),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var f=(r=o=function(e){function Tip(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Tip);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Tip.__proto__||Object.getPrototypeOf(Tip)).call(this,e));return t.onClickButtonHandle=function(){var e=t.props,n=e.mainActionType,o=e.onClickMain;"back"===n?a.a.navigateBack():"home"===n?"WEAPP"===a.a.getEnv()?Object(s.d)({"url":"/pages/index/index"}):(a.a.redirectTo({"url":"/pages/index/index"}),window.location.reload()):"custom"===n&&o()},t.state={},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Tip,a["a"].Component),d(Tip,[{"key":"render","value":function render(){var e=this.props,t=e.type,n=e.icon,o=e.text,r=e.mainAction,a=e.height,s=e.mainActionType;return i.k.createElement(c.a,{"className":"tip "+t,"style":{"height":a}},i.k.createElement(c.a,{"className":"tip__content"},i.k.createElement(c.a,{"className":"iconfont icon-"+n}),i.k.createElement(c.a,{"className":"tip__text"},o),"none"!==s&&""!==r&&i.k.createElement(l.a,{"type":"primary","onClick":this.onClickButtonHandle},r)))}}]),Tip}(),o.options={"addGlobalClass":!0},o.defaultProps={"type":"auto","icon":"empty","text":"当前没有数据","height":"100%","mainAction":"返回上一级","mainActionType":"back"},r);f.propTypes={"type":u.a.oneOf(["full","auto"]),"icon":u.a.string,"text":u.a.string,"mainAction":u.a.string,"mainActionType":u.a.oneOf(["back","home","custom","none"]),"height":u.a.string,"onClickMain":u.a.func}},"254":function(e,t,n){},"279":function(e,t,n){"use strict";n.d(t,"b",function(){return setGlobalData}),n.d(t,"a",function(){return getGlobalData});var o={};function setGlobalData(e,t){o[e]=t}function getGlobalData(e){return o[e]}},"305":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var o,r,i=n(1),a=n(2),s=n(51),c=n(259),l=n(10),p=n.n(l),u=(n(319),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var d=(r=o=function(e){function AddressCell(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AddressCell);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AddressCell.__proto__||Object.getPrototypeOf(AddressCell)).call(this,e));return t.onClick=function(){t.props.disabled||t.props.onClick(t.props.address.id)},t.onEdit=function(e){t.props.onEdit(t.props.address.id),e.stopPropagation()},t.state={},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AddressCell,a["a"].Component),u(AddressCell,[{"key":"render","value":function render(){var e=this.props.address,t=e.province+e.city+e.district+e.address,n=i.k.createElement(s.a,{"className":"iconfont icon-edit","onClick":this.onEdit}),o=p()("address-cell",this.props.type,{"showActive":!this.props.disabled});return i.k.createElement(s.a,{"className":o,"onClick":this.onClick},i.k.createElement(s.a,{"className":"iconfont "+(this.props.checked?"icon-check-fill":"icon-address")}),i.k.createElement(s.a,{"className":"address-cell__main"},0===e.address_id?i.k.createElement(c.a,null,"请先创建一个收货地址"):i.k.createElement(s.a,{"className":"address-cell__header"},i.k.createElement(s.a,null,i.k.createElement(c.a,{"className":"consignee"},e.consignee),1===e.status&&i.k.createElement(c.a,{"className":"badge"},"默认")),i.k.createElement(c.a,{"className":"tel"},e.tel)),i.k.createElement(s.a,{"className":"address-cell__detail"},t)),i.k.createElement(s.a,{"className":"right-button"},"display"!==this.props.type&&n,"display"===this.props.type&&!this.props.disabled&&i.k.createElement(s.a,{"className":"iconfont icon-right"})))}}]),AddressCell}(),o.options={"addGlobalClass":!0},o.defaultProps={"type":"choose","address":{},"checked":!1},r)},"319":function(e,t,n){},"407":function(e,t,n){},"503":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return b});var o=n(1),r=n(2),i=n(317),a=n(237),s=n(51),c=n(258),l=n(260),p=(n(407),n(77)),u=n(305),d=n(241),f=n(253),h=n(279),y=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),m=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(n):void 0};var b=function(e){function AddressList(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AddressList);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AddressList.__proto__||Object.getPrototypeOf(AddressList)).call(this,e));return t.config={"navigationBarTitleText":"选择收货地址"},t.onEdit=function(e){Object(h.b)("address",t.state.addressList.find(function(t){return t.id===e})),t.$router.params.choose?r.a.navigateTo({"url":"../edit-address/edit-address?choose="+t.$router.params.choose}):r.a.navigateTo({"url":"../edit-address/edit-address"})},t.onAdd=function(){Object(h.b)("address",null),r.a.navigateTo({"url":"../edit-address/edit-address"})},t.onClick=function(e){var n=t.$router.params;n.choose&&(n.current==e?r.a.navigateBack():Object(p.b)({"name":"chooseAddress","data":{"id":e,"orderId":t.$router.params.choose},"success":function success(){r.a.eventCenter.trigger("update:order"),r.a.navigateBack()}}))},t.state={"addressList":null},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AddressList,r["a"].Component),y(AddressList,[{"key":"componentWillMount","value":function componentWillMount(){var e=this;this.$router.params.choose||Object(i.a)({"title":"管理收货地址"});var t=function getData(){e.setState({"addressList":null}),Object(p.b)({"name":"getAllAddress","success":function success(t){e.setState({"addressList":t}),Object(a.a)()}})};t(),r.a.eventCenter.on("update:address",function(){t()})}},{"key":"onPullDownRefresh","value":function onPullDownRefresh(){this.componentWillMount()}},{"key":"onShareAppMessage","value":function onShareAppMessage(){}},{"key":"render","value":function render(){var e=this,t=this.state.addressList,n=this.$router.params.current,r=void 0,i=void 0;t&&t.length>0?(i=t.map(function(t){var r=t.id===parseInt(n);return o.k.createElement(u.a,{"key":t.id,"address":t,"onClick":e.onClick,"onEdit":e.onEdit,"checked":r})}),r=o.k.createElement(s.a,{"className":"address-list__content"},o.k.createElement(s.a,{"className":"list"},i),o.k.createElement(s.a,{"className":"handle"},o.k.createElement(c.a,{"type":"primary","onClick":this.onAdd},"新增收货地址")))):r=t?o.k.createElement(s.a,null,o.k.createElement(f.a,{"text":"当前没有收货地址，不能购买商品，快来添加一个吧","mainAction":""}),o.k.createElement(s.a,{"className":"handle"},o.k.createElement(c.a,{"type":"primary","onClick":this.onAdd},"新增收货地址"))):o.k.createElement(d.a,null);var a=o.k.createElement(s.a,{"className":"address-list"},r);return o.k.createElement(l.a,{"onRefresh":this.onPullDownRefresh&&this.onPullDownRefresh.bind(this),"ref":function ref(t){t&&(e.pullDownRefreshRef=t)}},a)}},{"key":"componentDidMount","value":function componentDidMount(){m(AddressList.prototype.__proto__||Object.getPrototypeOf(AddressList.prototype),"componentDidMount",this)&&m(AddressList.prototype.__proto__||Object.getPrototypeOf(AddressList.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){m(AddressList.prototype.__proto__||Object.getPrototypeOf(AddressList.prototype),"componentDidShow",this)&&m(AddressList.prototype.__proto__||Object.getPrototypeOf(AddressList.prototype),"componentDidShow",this).call(this),this.pullDownRefreshRef&&this.pullDownRefreshRef.bindEvent()}},{"key":"componentDidHide","value":function componentDidHide(){m(AddressList.prototype.__proto__||Object.getPrototypeOf(AddressList.prototype),"componentDidHide",this)&&m(AddressList.prototype.__proto__||Object.getPrototypeOf(AddressList.prototype),"componentDidHide",this).call(this),this.pullDownRefreshRef&&this.pullDownRefreshRef.unbindEvent()}}]),AddressList}()}}]);