"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp2,_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),_get=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(a):void 0},_index=require("../../../npm/@tarojs/taro-weapp/index.js"),_index2=_interopRequireDefault(_index),_ajax=require("../../../utils/ajax.js"),_ajax2=_interopRequireDefault(_ajax);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Withdraw=(_temp2=_class=function(e){function i(){var e,t,r;_classCallCheck(this,i);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=r=_possibleConstructorReturn(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(a)))).$usedState=["$compid__83","banksList","checkedBankName","banks","checkedBank"],r.config={navigationBarTitleText:"提现"},r.onChangeBank=function(e){r.setState({checkedBank:e.detail.value})},r.onSubmit=function(e){var t=r.state.banks,n=e.detail.value,a=function(e){_index2.default.showToast({title:e,icon:"none"})};return n.name?n.tel?n.id_card?n.bank_id?n.bank_card_number?2<!n.name.length?a("姓名必须大于两个字"):11!==n.tel.length?a("手机号码必须为11位"):18!==n.id_card.length?a("身份证号必须为18位"):16<=n.bank_card_number.length&&n.bank_card_number.length<=19?void(0,_ajax2.default)({name:"withdraw",data:_extends({},n,{bank_id:t[n.bank_id].id}),success:function(){_index2.default.navigateBack()},hintText:"提交申请"}):a("银行卡号必须为16-19位"):a("请输入银行卡号"):a("请选择开户行"):a("请输入身份证号"):a("请输入手机号码"):a("请输入姓名")},r.customComponents=["Loading"],_possibleConstructorReturn(r,t)}return _inherits(i,_index.Component),_createClass(i,[{key:"_constructor",value:function(e){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_constructor",this).call(this,e),this.state={banks:null,checkedBank:-1},this.$$refs=[]}},{key:"componentWillMount",value:function(){var t=this;(0,_ajax2.default)({name:"getBanks",success:function(e){t.setState({banks:e})}})}},{key:"onPullDownRefresh",value:function(){this.componentWillMount()}},{key:"_createData",value:function(){this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};arguments[2];var e=this.$prefix,t=(0,_index.genCompid)(e+"$compid__83"),n=this.__state.banks&&this.__state.banks.map(function(e){return e.bank_name}),a=this.__state.checkedBank,r=n&&0<=a&&n[a];return!n&&_index.propsManager.set({type:"inline"},t),Object.assign(this.__state,{$compid__83:t,banksList:n,checkedBankName:r}),this.__state}}]),i}(),_class.$$events=["onSubmit","onChangeBank"],_class.$$componentPath="pages/distribution/withdraw/withdraw",_temp2);exports.default=Withdraw,Component(require("../../../npm/@tarojs/taro-weapp/index.js").default.createComponent(Withdraw,!0));