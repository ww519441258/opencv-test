"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp2,_createClass=function(){function r(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,o){return e&&r(t.prototype,e),o&&r(t,o),t}}(),_get=function t(e,o,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,o);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,o,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0},_index=require("../../npm/@tarojs/taro-weapp/index.js"),_index2=_interopRequireDefault(_index);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var GoodsList=(_temp2=_class=function(t){function a(){var t,e,o;_classCallCheck(this,a);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=o=_possibleConstructorReturn(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(n)))).$usedState=["loopArray8","$compid__38","goodsList"],o.config={navigationBarTitleText:"商品列表"},o.onLoadData=function(t){o.setState({goodsList:t})},o.customComponents=["GoodsCell","List"],_possibleConstructorReturn(o,e)}return _inherits(a,_index.Component),_createClass(a,[{key:"_constructor",value:function(t){_get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"_constructor",this).call(this,t),this.state={goodsList:null},this.$$refs=[]}},{key:"componentDidMount",value:function(){var t=this.$router.params,e=t.type,o=t.title,r=t.name,n=t.id,i=t.keyword,a=t.status,s=t.tag,l=void 0,u=void 0;"category"===e?(_index2.default.setNavigationBarTitle({title:r+" - 分类"}),l="getGoodsByCategory",u={categoryId:n}):"search"===e?(_index2.default.setNavigationBarTitle({title:"“"+i+"”的搜索结果"}),l="search",u={keyword:i}):"status"===e?(l="getGoodsByStatus",u={status:a}):"tag"===e?(l="getGoodsByTag",u={tagId:s}):"star"===e&&(_index2.default.setNavigationBarTitle({title:"我的收藏"}),l="getStarredGoods"),o&&_index2.default.setNavigationBarTitle({title:o}),_index2.default.eventCenter.trigger("reload:goods-list",l,u)}},{key:"onShareAppMessage",value:function(){}},{key:"onPullDownRefresh",value:function(){this.setState({goodsList:null}),this.componentDidMount()}},{key:"_createData",value:function(){this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};arguments[2];var r=this.$prefix,t=(0,_index.genCompid)(r+"$compid__38"),e=void 0,o=this.$router.params,n=o.type,i=o.keyword,a=o.name,s=o.title,l=this.__state.goodsList,u="暂时没有商品，去别处逛逛吧";return"search"===n?u="未能找到“"+i+"”相关的商品，换个词试试吧":"category"===n&&(u="“"+(a||s)+"”分类下暂时没有商品，去别处逛逛吧"),l&&(e=l.map(function(t,e){t={$original:(0,_index.internal_get_original)(t)};var o=(0,_index.genCompid)(r+"EALItuWCBg"+e);return _index.propsManager.set({goods:t.$original},o),{$compid__37:o,$original:t.$original}})),_index.propsManager.set({event:"goods-list",onLoadData:this.onLoadData,emptyTip:u,numberPerPage:9},t),Object.assign(this.__state,{loopArray8:e,$compid__38:t}),this.__state}}]),a}(),_class.$$events=[],_class.$$componentPath="pages/goods-list/goods-list",_temp2);exports.default=GoodsList,Component(require("../../npm/@tarojs/taro-weapp/index.js").default.createComponent(GoodsList,!0));