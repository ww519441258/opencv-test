"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp2,_createClass=function(){function n(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,o,t){return o&&n(e.prototype,o),t&&n(e,t),e}}(),_get=function e(o,t,n){null===o&&(o=Function.prototype);var i=Object.getOwnPropertyDescriptor(o,t);if(void 0===i){var r=Object.getPrototypeOf(o);return null===r?void 0:e(r,t,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0},_index=require("../../npm/@tarojs/taro-weapp/index.js"),_index2=_interopRequireDefault(_index),_index3=require("../../npm/prop-types/index.js"),_index4=_interopRequireDefault(_index3);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?e:o}function _inherits(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}var GoodsCell=(_temp2=_class=function(e){function s(){var e,o,t;_classCallCheck(this,s);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=t=_possibleConstructorReturn(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(i)))).$usedState=["anonymousState__temp","$compid__132","$compid__133","disabled","goods","isExchange","undefined","mainButton","disableMainButton"],t.gotoGoodsDetail=function(){if(t.props.disabled)return!1;if(t.props.goods.groupbooking_id)_index2.default.navigateTo({url:"../goods-detail/goods-detail?is_group_booking=1&id="+t.props.goods.groupbooking_id});else{var e=t.props.goods.goods_id||t.props.goods.id,o=t.props.isExchange?"&is_exchange=1":"";_index2.default.navigateTo({url:"/pages/goods-detail/goods-detail?id="+e+o})}},t.onClickMain=function(e){e.stopPropagation(),t.props.onClickMain(t.props.goods.id)},t.handleClickQrCode=function(e){var o=t.props.goods;e.stopPropagation(),_index2.default.previewImage({urls:o.qrCode.map(function(e){return e.qr_code})})},t.customComponents=["Price"],_possibleConstructorReturn(t,o)}return _inherits(s,_index.Component),_createClass(s,[{key:"_constructor",value:function(e){_get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_constructor",this).call(this,e),this.$$refs=[]}},{key:"_createData",value:function(){this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};arguments[2];var e=this.$prefix,o=(0,_index.genCompid)(e+"$compid__132"),t=(0,_index.genCompid)(e+"$compid__133"),n=this.__props,i=n.goods,r=n.isExchange,s=n.disabled,a=n.mainButton,p=n.disableMainButton,d=i.sku_type?i.sku_type.replace(/,/g,", "):null;return r&&_index.propsManager.set({price:i.points||i.shop_price,center:!0,isExchange:!0},o),!r&&_index.propsManager.set({price:i.commodity_price||i.shop_price,marketPrice:i.market_price,center:!0},t),Object.assign(this.__state,{anonymousState__temp:d,$compid__132:o,$compid__133:t,disabled:s,goods:i,isExchange:r,undefined:void 0,mainButton:a,disableMainButton:p}),this.__state}}]),s}(),_class.$$events=["gotoGoodsDetail","onClickMain","handleClickQrCode"],_class.options={addGlobalClass:!0},_class.propTypes={goods:_index4.default.object.isRequired,disabled:_index4.default.bool,mainButton:_index4.default.string,disableMainButton:_index4.default.bool,onClickMain:_index4.default.func,isExchange:_index4.default.bool},_class.defaultProps={goods:{},disabled:!1,mainButton:"",disableMainButton:!1,onClickMain:function(){},isExchange:!1},_class.$$componentPath="components/GoodsCell/index",_temp2);exports.default=GoodsCell,Component(require("../../npm/@tarojs/taro-weapp/index.js").default.createComponent(GoodsCell));