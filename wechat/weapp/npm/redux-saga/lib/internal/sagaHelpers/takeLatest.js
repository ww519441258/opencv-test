"use strict";exports.__esModule=!0,exports.default=takeLatest;var _fsmIterator=require("./fsmIterator.js"),_fsmIterator2=_interopRequireDefault(_fsmIterator),_io=require("../io.js"),_channel=require("../channel.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function takeLatest(e,t){for(var r=arguments.length,n=Array(2<r?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var o={done:!1,value:(0,_io.take)(e)},u=function(e){return{done:!1,value:_io.fork.apply(void 0,[t].concat(n,[e]))}},i=void 0,f=void 0,s=function(e){return i=e},_=function(e){return f=e};return(0,_fsmIterator2.default)({q1:function(){return["q2",o,_]},q2:function(){return f===_channel.END?[_fsmIterator.qEnd]:i?["q3",(e=i,{done:!1,value:(0,_io.cancel)(e)})]:["q1",u(f),s];var e},q3:function(){return["q1",u(f),s]}},"q1","takeLatest("+(0,_fsmIterator.safeName)(e)+", "+t.name+")")}