"use strict";exports.__esModule=!0,exports.asap=asap,exports.suspend=suspend,exports.flush=flush;var queue=[],semaphore=0;function exec(e){try{suspend(),e()}finally{release()}}function asap(e){queue.push(e),semaphore||(suspend(),flush())}function suspend(){semaphore++}function release(){semaphore--}function flush(){release();for(var e=void 0;!semaphore&&void 0!==(e=queue.shift());)exec(e)}