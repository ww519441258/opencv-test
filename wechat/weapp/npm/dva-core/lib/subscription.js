"use strict";var _interopRequireDefault=require("../../@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.run=run,exports.unlisten=unlisten;var _getIterator2=_interopRequireDefault(require("../../@babel/runtime/core-js/get-iterator.js")),_warning=_interopRequireDefault(require("../npm/warning/warning.js")),_utils=require("./utils.js"),_prefixedDispatch=_interopRequireDefault(require("./prefixedDispatch.js"));function run(e,r,t,n){var i=[],u=[];for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=(0,e[s])({dispatch:(0,_prefixedDispatch.default)(t._store.dispatch,r),history:t._history},n);(0,_utils.isFunction)(a)?i.push(a):u.push(s)}return{funcs:i,nonFuncs:u}}function unlisten(e,r){if(e[r]){var t=e[r],n=t.funcs,i=t.nonFuncs;(0,_warning.default)(0===i.length,"[app.unmodel] subscription should return unlistener function, check these subscriptions ".concat(i.join(", ")));var u=!0,s=!1,a=void 0;try{for(var o,l=(0,_getIterator2.default)(n);!(u=(o=l.next()).done);u=!0){(0,o.value)()}}catch(e){s=!0,a=e}finally{try{u||null==l.return||l.return()}finally{if(s)throw a}}delete e[r]}}