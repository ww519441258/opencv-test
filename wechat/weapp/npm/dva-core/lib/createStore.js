"use strict";var _interopRequireDefault=require("../../@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_default;var _toConsumableArray2=_interopRequireDefault(require("../../@babel/runtime/helpers/toConsumableArray.js")),_typeof2=_interopRequireDefault(require("../../@babel/runtime/helpers/typeof.js")),_redux=require("../../redux/lib/index.js"),_flatten=_interopRequireDefault(require("../../flatten/index.js")),_invariant=_interopRequireDefault(require("../../invariant/invariant.js")),_window=_interopRequireDefault(require("../../global/window.js")),_utils=require("./utils.js");function _default(e){var r=e.reducers,t=e.initialState,a=e.plugin,u=e.sagaMiddleware,i=e.promiseMiddleware,l=e.createOpts.setupMiddlewares,n=void 0===l?_utils.returnSelf:l,o=a.get("extraEnhancers");(0,_invariant.default)((0,_utils.isArray)(o),"[app.start] extraEnhancers should be array, but got ".concat((0,_typeof2.default)(o)));var s=a.get("onAction"),d=n([i,u].concat((0,_toConsumableArray2.default)((0,_flatten.default)(s)))),_=[_redux.applyMiddleware.apply(void 0,(0,_toConsumableArray2.default)(d))].concat((0,_toConsumableArray2.default)(o),[(_window.default.__REDUX_DEVTOOLS_EXTENSION__OPTIONS,function(e){return e})]);return(0,_redux.createStore)(r,t,_redux.compose.apply(void 0,(0,_toConsumableArray2.default)(_)))}